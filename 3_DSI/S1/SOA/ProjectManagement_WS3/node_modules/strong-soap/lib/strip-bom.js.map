{"version":3,"file":"strip-bom.js","names":["module","exports","stripBom","str","Error","chunk","Buffer","from","transformed","value","slice","toString"],"sources":["../src/strip-bom.js"],"sourcesContent":["// Copyright IBM Corp. 2016,2019. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n/*\nstrip the BOM characters in the beginning of UTF-8 \nor other unicode encoded strings\nhttp://en.wikipedia.org/wiki/Byte_order_mark \n*/\n'use strict';\nmodule.exports = stripBom;\n\nfunction stripBom(str){\n\n\tif (typeof str !== 'string') {\n\t\tthrow new Error('Invalid input, only string allowed');\n\t}\n\tvar chunk = Buffer.from(str);\n\tvar transformed;\n\tvar value = str;\n\tif (chunk[0] === 0xFE && chunk[1] === 0XFF) {\n\t\ttransformed = chunk.slice(2);\n\t}\n\tif (chunk[0] == 0xEF && chunk[1] == 0xBB && chunk[2] == 0xBF) {\n\t\ttransformed = chunk.slice(3);\n\t}\n\tif (transformed) {\n\t\tvalue = transformed.toString();\n\t}\n\treturn value;\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;;AACZA,MAAM,CAACC,OAAO,GAAGC,QAAQ;AAEzB,SAASA,QAAQA,CAACC,GAAG,EAAC;EAErB,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IAC5B,MAAM,IAAIC,KAAK,CAAC,oCAAoC,CAAC;EACtD;EACA,IAAIC,KAAK,GAAGC,MAAM,CAACC,IAAI,CAACJ,GAAG,CAAC;EAC5B,IAAIK,WAAW;EACf,IAAIC,KAAK,GAAGN,GAAG;EACf,IAAIE,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,IAAIA,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;IAC3CG,WAAW,GAAGH,KAAK,CAACK,KAAK,CAAC,CAAC,CAAC;EAC7B;EACA,IAAIL,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,IAAIA,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;IAC7DG,WAAW,GAAGH,KAAK,CAACK,KAAK,CAAC,CAAC,CAAC;EAC7B;EACA,IAAIF,WAAW,EAAE;IAChBC,KAAK,GAAGD,WAAW,CAACG,QAAQ,CAAC,CAAC;EAC/B;EACA,OAAOF,KAAK;AACb;AAAC","ignoreList":[]}