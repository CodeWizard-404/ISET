{"version":3,"file":"keyref.js","names":["KeyBase","require","QName","KeyRef","constructor","nsName","attrs","options","postProcess","definitions","$refer","qname","parse","prefix","nsURI","getTargetNamespace","getNamespaceURI","elementName","module","exports"],"sources":["../../../src/parser/xsd/keyref.js"],"sourcesContent":["// Copyright IBM Corp. 2016,2017. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\nvar KeyBase = require('./keybase');\nvar QName = require('../qname');\n\nclass KeyRef extends KeyBase {\n  constructor(nsName, attrs, options) {\n    super(nsName, attrs, options);\n  }\n\n  postProcess(definitions) {\n    super.postProcess(definitions);\n    if (this.$refer) {\n      let qname = QName.parse(this.$refer);\n      if (qname.prefix === '') {\n        qname.nsURI = this.getTargetNamespace();\n      } else {\n        qname.nsURI = this.getNamespaceURI(qname.prefix);\n      }\n    }\n  }\n}\n\nKeyRef.elementName = 'keyref';\n\nmodule.exports = KeyRef;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AAClC,IAAIC,KAAK,GAAGD,OAAO,CAAC,UAAU,CAAC;AAE/B,MAAME,MAAM,SAASH,OAAO,CAAC;EAC3BI,WAAWA,CAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAE;IAClC,KAAK,CAACF,MAAM,EAAEC,KAAK,EAAEC,OAAO,CAAC;EAC/B;EAEAC,WAAWA,CAACC,WAAW,EAAE;IACvB,KAAK,CAACD,WAAW,CAACC,WAAW,CAAC;IAC9B,IAAI,IAAI,CAACC,MAAM,EAAE;MACf,IAAIC,KAAK,GAAGT,KAAK,CAACU,KAAK,CAAC,IAAI,CAACF,MAAM,CAAC;MACpC,IAAIC,KAAK,CAACE,MAAM,KAAK,EAAE,EAAE;QACvBF,KAAK,CAACG,KAAK,GAAG,IAAI,CAACC,kBAAkB,CAAC,CAAC;MACzC,CAAC,MAAM;QACLJ,KAAK,CAACG,KAAK,GAAG,IAAI,CAACE,eAAe,CAACL,KAAK,CAACE,MAAM,CAAC;MAClD;IACF;EACF;AACF;AAEAV,MAAM,CAACc,WAAW,GAAG,QAAQ;AAE7BC,MAAM,CAACC,OAAO,GAAGhB,MAAM","ignoreList":[]}