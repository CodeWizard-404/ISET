{"version":3,"file":"definitions.js","names":["_","require","WSDLElement","Schema","Types","Message","PortType","Binding","Service","Documentation","Definitions","constructor","nsName","attrs","options","messages","portTypes","bindings","services","schemas","addChild","child","self","merge","$name","name","$namespace","targetNamespace","transport","elementName","allowedChildren","module","exports"],"sources":["../../../src/parser/wsdl/definitions.js"],"sourcesContent":["// Copyright IBM Corp. 2016,2017. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\nvar _ = require('lodash');\nvar WSDLElement = require('./wsdlElement');\nvar Schema = require('../xsd/schema');\nvar Types = require('./types');\nvar Message = require('./message');\nvar PortType = require('./portType');\nvar Binding = require('./binding');\nvar Service = require('./service');\nvar Documentation = require('./documentation');\n\nclass Definitions extends WSDLElement {\n  constructor(nsName, attrs, options) {\n    super(nsName, attrs, options);\n    this.messages = {};\n    this.portTypes = {};\n    this.bindings = {};\n    this.services = {};\n    this.schemas = {};\n  }\n\n  addChild(child) {\n    var self = this;\n    if (child instanceof Types) {\n      // Merge types.schemas into definitions.schemas\n      _.merge(self.schemas, child.schemas);\n    }\n    else if (child instanceof Message) {\n      self.messages[child.$name] = child;\n    }\n    else if (child.name === 'import') {\n      //create a Schema element for the <import ../>. targetNamespace is the 'namespace' of the <import  />  element in the wsdl.\n      self.schemas[child.$namespace] = new Schema('xs:schema',{targetNamespace: child.$namespace});\n      self.schemas[child.$namespace].addChild(child);\n    }\n    else if (child instanceof PortType) {\n      self.portTypes[child.$name] = child;\n    }\n    else if (child instanceof Binding) {\n      if (child.transport === 'http://schemas.xmlsoap.org/soap/http' ||\n        child.transport === 'http://www.w3.org/2003/05/soap/bindings/HTTP/')\n        self.bindings[child.$name] = child;\n    }\n    else if (child instanceof Service) {\n      self.services[child.$name] = child;\n    }\n    else if (child instanceof Documentation) {\n    }\n  }\n}\n\nDefinitions.elementName = 'definitions';\nDefinitions.allowedChildren = ['types', 'message', 'portType', 'binding',\n  'service', 'import', 'documentation', 'import', 'any'];\n\nmodule.exports = Definitions;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AACzB,IAAIC,WAAW,GAAGD,OAAO,CAAC,eAAe,CAAC;AAC1C,IAAIE,MAAM,GAAGF,OAAO,CAAC,eAAe,CAAC;AACrC,IAAIG,KAAK,GAAGH,OAAO,CAAC,SAAS,CAAC;AAC9B,IAAII,OAAO,GAAGJ,OAAO,CAAC,WAAW,CAAC;AAClC,IAAIK,QAAQ,GAAGL,OAAO,CAAC,YAAY,CAAC;AACpC,IAAIM,OAAO,GAAGN,OAAO,CAAC,WAAW,CAAC;AAClC,IAAIO,OAAO,GAAGP,OAAO,CAAC,WAAW,CAAC;AAClC,IAAIQ,aAAa,GAAGR,OAAO,CAAC,iBAAiB,CAAC;AAE9C,MAAMS,WAAW,SAASR,WAAW,CAAC;EACpCS,WAAWA,CAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAE;IAClC,KAAK,CAACF,MAAM,EAAEC,KAAK,EAAEC,OAAO,CAAC;IAC7B,IAAI,CAACC,QAAQ,GAAG,CAAC,CAAC;IAClB,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC;IACnB,IAAI,CAACC,QAAQ,GAAG,CAAC,CAAC;IAClB,IAAI,CAACC,QAAQ,GAAG,CAAC,CAAC;IAClB,IAAI,CAACC,OAAO,GAAG,CAAC,CAAC;EACnB;EAEAC,QAAQA,CAACC,KAAK,EAAE;IACd,IAAIC,IAAI,GAAG,IAAI;IACf,IAAID,KAAK,YAAYjB,KAAK,EAAE;MAC1B;MACAJ,CAAC,CAACuB,KAAK,CAACD,IAAI,CAACH,OAAO,EAAEE,KAAK,CAACF,OAAO,CAAC;IACtC,CAAC,MACI,IAAIE,KAAK,YAAYhB,OAAO,EAAE;MACjCiB,IAAI,CAACP,QAAQ,CAACM,KAAK,CAACG,KAAK,CAAC,GAAGH,KAAK;IACpC,CAAC,MACI,IAAIA,KAAK,CAACI,IAAI,KAAK,QAAQ,EAAE;MAChC;MACAH,IAAI,CAACH,OAAO,CAACE,KAAK,CAACK,UAAU,CAAC,GAAG,IAAIvB,MAAM,CAAC,WAAW,EAAC;QAACwB,eAAe,EAAEN,KAAK,CAACK;MAAU,CAAC,CAAC;MAC5FJ,IAAI,CAACH,OAAO,CAACE,KAAK,CAACK,UAAU,CAAC,CAACN,QAAQ,CAACC,KAAK,CAAC;IAChD,CAAC,MACI,IAAIA,KAAK,YAAYf,QAAQ,EAAE;MAClCgB,IAAI,CAACN,SAAS,CAACK,KAAK,CAACG,KAAK,CAAC,GAAGH,KAAK;IACrC,CAAC,MACI,IAAIA,KAAK,YAAYd,OAAO,EAAE;MACjC,IAAIc,KAAK,CAACO,SAAS,KAAK,sCAAsC,IAC5DP,KAAK,CAACO,SAAS,KAAK,+CAA+C,EACnEN,IAAI,CAACL,QAAQ,CAACI,KAAK,CAACG,KAAK,CAAC,GAAGH,KAAK;IACtC,CAAC,MACI,IAAIA,KAAK,YAAYb,OAAO,EAAE;MACjCc,IAAI,CAACJ,QAAQ,CAACG,KAAK,CAACG,KAAK,CAAC,GAAGH,KAAK;IACpC,CAAC,MACI,IAAIA,KAAK,YAAYZ,aAAa,EAAE,CACzC;EACF;AACF;AAEAC,WAAW,CAACmB,WAAW,GAAG,aAAa;AACvCnB,WAAW,CAACoB,eAAe,GAAG,CAAC,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EACtE,SAAS,EAAE,QAAQ,EAAE,eAAe,EAAE,QAAQ,EAAE,KAAK,CAAC;AAExDC,MAAM,CAACC,OAAO,GAAGtB,WAAW","ignoreList":[]}