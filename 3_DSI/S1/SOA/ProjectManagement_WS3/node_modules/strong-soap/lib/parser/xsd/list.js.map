{"version":3,"file":"list.js","names":["g","require","XSDElement","helper","QName","SimpleType","List","constructor","nsName","attrs","options","postProcess","definitions","itemType","undefined","self","$itemType","qname","parse","resolveSchemaObject","schemas","children","forEach","c","warn","elementName","allowedChildren","module","exports"],"sources":["../../../src/parser/xsd/list.js"],"sourcesContent":["// Copyright IBM Corp. 2016,2017. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\nvar g = require('../../globalize');\nvar XSDElement = require('./xsdElement');\nvar helper = require('../helper');\nvar QName = require('../qname');\nvar SimpleType = require('./simpleType');\n\nclass List extends XSDElement {\n  constructor(nsName, attrs, options) {\n    super(nsName, attrs, options);\n  }\n\n  postProcess(definitions) {\n    if (this.itemType !== undefined) {\n      return;\n    }\n    var self = this;\n    if (this.$itemType) {\n      var qname = QName.parse(this.$itemType);\n      this.itemType = this.resolveSchemaObject(definitions.schemas,\n        'simpleType', this.$itemType);\n    }\n    this.children.forEach(function(c) {\n      if (c instanceof SimpleType) {\n        if (self.$itemType) {\n          g.warn('Attribute {{itemType}} is not allowed if the content ' +\n            'contains a {{simpleType}} element');\n        } else if (self.itemType) {\n          g.warn('List can only contain one {{simpleType}} element');\n        }\n        self.itemType = c;\n      }\n    });\n    if (!this.itemType) {\n      g.warn('List must have an item type');\n    }\n  }\n}\n\nList.elementName = 'list';\nList.allowedChildren = ['annotation', 'simpleType'];\n\nmodule.exports = List;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,CAAC,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAClC,IAAIC,UAAU,GAAGD,OAAO,CAAC,cAAc,CAAC;AACxC,IAAIE,MAAM,GAAGF,OAAO,CAAC,WAAW,CAAC;AACjC,IAAIG,KAAK,GAAGH,OAAO,CAAC,UAAU,CAAC;AAC/B,IAAII,UAAU,GAAGJ,OAAO,CAAC,cAAc,CAAC;AAExC,MAAMK,IAAI,SAASJ,UAAU,CAAC;EAC5BK,WAAWA,CAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAE;IAClC,KAAK,CAACF,MAAM,EAAEC,KAAK,EAAEC,OAAO,CAAC;EAC/B;EAEAC,WAAWA,CAACC,WAAW,EAAE;IACvB,IAAI,IAAI,CAACC,QAAQ,KAAKC,SAAS,EAAE;MAC/B;IACF;IACA,IAAIC,IAAI,GAAG,IAAI;IACf,IAAI,IAAI,CAACC,SAAS,EAAE;MAClB,IAAIC,KAAK,GAAGb,KAAK,CAACc,KAAK,CAAC,IAAI,CAACF,SAAS,CAAC;MACvC,IAAI,CAACH,QAAQ,GAAG,IAAI,CAACM,mBAAmB,CAACP,WAAW,CAACQ,OAAO,EAC1D,YAAY,EAAE,IAAI,CAACJ,SAAS,CAAC;IACjC;IACA,IAAI,CAACK,QAAQ,CAACC,OAAO,CAAC,UAASC,CAAC,EAAE;MAChC,IAAIA,CAAC,YAAYlB,UAAU,EAAE;QAC3B,IAAIU,IAAI,CAACC,SAAS,EAAE;UAClBhB,CAAC,CAACwB,IAAI,CAAC,uDAAuD,GAC5D,mCAAmC,CAAC;QACxC,CAAC,MAAM,IAAIT,IAAI,CAACF,QAAQ,EAAE;UACxBb,CAAC,CAACwB,IAAI,CAAC,kDAAkD,CAAC;QAC5D;QACAT,IAAI,CAACF,QAAQ,GAAGU,CAAC;MACnB;IACF,CAAC,CAAC;IACF,IAAI,CAAC,IAAI,CAACV,QAAQ,EAAE;MAClBb,CAAC,CAACwB,IAAI,CAAC,6BAA6B,CAAC;IACvC;EACF;AACF;AAEAlB,IAAI,CAACmB,WAAW,GAAG,MAAM;AACzBnB,IAAI,CAACoB,eAAe,GAAG,CAAC,YAAY,EAAE,YAAY,CAAC;AAEnDC,MAAM,CAACC,OAAO,GAAGtB,IAAI","ignoreList":[]}