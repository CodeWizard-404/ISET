{"version":3,"file":"union.js","names":["XSDElement","require","helper","SimpleType","Union","constructor","nsName","attrs","options","postProcess","definitions","memberTypes","self","$memberTypes","split","filter","Boolean","forEach","typeQName","type","resolveSchemaObject","schemas","push","children","c","elementName","allowedChildren","module","exports"],"sources":["../../../src/parser/xsd/union.js"],"sourcesContent":["// Copyright IBM Corp. 2016,2017. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\nvar XSDElement = require('./xsdElement');\nvar helper = require('../helper');\nvar SimpleType = require('./simpleType');\n\nclass Union extends XSDElement {\n  constructor(nsName, attrs, options) {\n    super(nsName, attrs, options);\n  }\n\n  postProcess(definitions) {\n    if (this.memberTypes) return;\n    var self = this;\n    this.memberTypes = [];\n    if (this.$memberTypes) {\n      this.$memberTypes.split(/\\s+/).filter(Boolean).forEach(\n        function(typeQName) {\n          var type = self.resolveSchemaObject(definitions.schemas,\n            'simpleType', typeQName);\n          self.memberTypes.push(type);\n        });\n    }\n    this.children.forEach(function(c) {\n      if (c instanceof SimpleType) {\n        self.memberTypes.push(c);\n      }\n    });\n  }\n}\n\nUnion.elementName = 'union';\nUnion.allowedChildren = ['annotation', 'simpleType'];\n\nmodule.exports = Union;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,IAAIA,UAAU,GAAGC,OAAO,CAAC,cAAc,CAAC;AACxC,IAAIC,MAAM,GAAGD,OAAO,CAAC,WAAW,CAAC;AACjC,IAAIE,UAAU,GAAGF,OAAO,CAAC,cAAc,CAAC;AAExC,MAAMG,KAAK,SAASJ,UAAU,CAAC;EAC7BK,WAAWA,CAACC,MAAM,EAAEC,KAAK,EAAEC,OAAO,EAAE;IAClC,KAAK,CAACF,MAAM,EAAEC,KAAK,EAAEC,OAAO,CAAC;EAC/B;EAEAC,WAAWA,CAACC,WAAW,EAAE;IACvB,IAAI,IAAI,CAACC,WAAW,EAAE;IACtB,IAAIC,IAAI,GAAG,IAAI;IACf,IAAI,CAACD,WAAW,GAAG,EAAE;IACrB,IAAI,IAAI,CAACE,YAAY,EAAE;MACrB,IAAI,CAACA,YAAY,CAACC,KAAK,CAAC,KAAK,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAACC,OAAO,CACpD,UAASC,SAAS,EAAE;QAClB,IAAIC,IAAI,GAAGP,IAAI,CAACQ,mBAAmB,CAACV,WAAW,CAACW,OAAO,EACrD,YAAY,EAAEH,SAAS,CAAC;QAC1BN,IAAI,CAACD,WAAW,CAACW,IAAI,CAACH,IAAI,CAAC;MAC7B,CAAC,CAAC;IACN;IACA,IAAI,CAACI,QAAQ,CAACN,OAAO,CAAC,UAASO,CAAC,EAAE;MAChC,IAAIA,CAAC,YAAYrB,UAAU,EAAE;QAC3BS,IAAI,CAACD,WAAW,CAACW,IAAI,CAACE,CAAC,CAAC;MAC1B;IACF,CAAC,CAAC;EACJ;AACF;AAEApB,KAAK,CAACqB,WAAW,GAAG,OAAO;AAC3BrB,KAAK,CAACsB,eAAe,GAAG,CAAC,YAAY,EAAE,YAAY,CAAC;AAEpDC,MAAM,CAACC,OAAO,GAAGxB,KAAK","ignoreList":[]}