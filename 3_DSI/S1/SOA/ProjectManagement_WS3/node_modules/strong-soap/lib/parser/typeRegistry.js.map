{"version":3,"file":"typeRegistry.js","names":["helper","require","elementTypes","registry","getRegistry","elementTypesByName","forEach","t","type","targetNamespace","elementName","getElementType","qname","ElementType","nsURI","name","XSDElement","WSDLElement","SOAPElement","SOAP12Element","Element","namespaces","wsdl","xsd","soap","soap12","exports"],"sources":["../../src/parser/typeRegistry.js"],"sourcesContent":["// Copyright IBM Corp. 2016,2017. All Rights Reserved.\n// Node module: strong-soap\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\n'use strict';\n\n/**\n * XML Schema Elements\n *\n * element --> @name|@ref|@type|@maxOccurs|@minOccurs|\n *             simpleType|complexType\n * simpleType --> @name|restriction\n * complexType --> @name|simpleContent|complexContent|\n *                 group|all|choice|sequence|\n *                 attribute|attributeGroup\n * simpleContent --> restriction|extension\n * complexContent --> restriction|extension\n * restriction -->\n *   simpleType: @base|minExclusive|minInclusive|maxExclusive|maxInclusive|\n *               totalDigits|fractionDigits|length|minLength|maxLength|\n *               enumeration|whiteSpace|pattern\n *   simpleContent: @base|minExclusive|minInclusive|maxExclusive|maxInclusive|\n *                  totalDigits|fractionDigits|length|minLength|maxLength|\n *                  enumeration|whiteSpace|pattern|\n *                  attribute|attributeGroup\n *   complexContent: @base|minExclusive|minInclusive|maxExclusive|maxInclusive|\n *                   totalDigits|fractionDigits|length|minLength|maxLength|\n *                   enumeration|whiteSpace|pattern|\n *                   group|all|choice|sequence|\n *                   attribute|attributeGroup\n * extension --> @base|group|all|choice|sequence|\n *               attribute|attributeGroup\n * group --> @name|@ref|all|choice|sequence\n * attribute --> @name|@ref|@default|@fixed|@type|@use\n * attributeGroup --> @name|@ref|attribute|attributeGroup\n * all --> @maxOccurs|@minOccurs|element\n * choice --> @maxOccurs|@minOccurs|element|group|choice|sequence|any\n * sequence --> @maxOccurs|@minOccurs|element|group|choice|sequence|any\n */\n\nvar helper = require('./helper');\n\nvar elementTypes = [\n  './xsd/all',\n  './xsd/annotation',\n  './xsd/any',\n  './xsd/anyAttribute',\n  './xsd/attribute',\n  './xsd/attributeGroup',\n  './xsd/choice',\n  './xsd/complexContent',\n  './xsd/complexType',\n  './xsd/documentation',\n  './xsd/element',\n  './xsd/unique',\n  './xsd/key',\n  './xsd/keyref',\n  './xsd/extension',\n  './xsd/group',\n  './xsd/import',\n  './xsd/include',\n  './xsd/restriction',\n  './xsd/sequence',\n  './xsd/simpleContent',\n  './xsd/simpleType',\n  './xsd/list',\n  './xsd/union',\n  './xsd/schema',\n  './wsdl/binding',\n  './wsdl/definitions',\n  './wsdl/fault',\n  './wsdl/import',\n  './wsdl/input',\n  './wsdl/message',\n  './wsdl/operation',\n  './wsdl/output',\n  './wsdl/part',\n  './wsdl/port',\n  './wsdl/portType',\n  './wsdl/service',\n  './wsdl/types',\n  './wsdl/documentation',\n  './soap/body',\n  './soap/header',\n  './soap/headerFault',\n  './soap/fault',\n  './soap12/body',\n  './soap12/header',\n  './soap12/headerFault',\n  './soap12/fault'\n];\n\nvar registry;\n\nfunction getRegistry() {\n  if (registry) {\n    return registry;\n  }\n  registry = {\n    elementTypes: {},\n    elementTypesByName: {}\n  };\n  elementTypes.forEach(function(t) {\n    var type = require(t);\n    registry.elementTypes['{' + type.targetNamespace + '}' + type.elementName] = type;\n    registry.elementTypesByName[type.elementName] = type;\n  });\n  return registry;\n}\n\nfunction getElementType(qname) {\n  var registry = getRegistry();\n  var ElementType =\n    registry.elementTypes['{' + qname.nsURI + '}' + qname.name];\n  if (!ElementType) {\n    let XSDElement = require('./xsd/xsdElement');\n    let WSDLElement = require('./wsdl/wsdlElement');\n    let SOAPElement = require('./soap/soapElement');\n    let SOAP12Element = require('./soap12/soapElement');\n    let Element = require('./element');\n    if (qname.nsURI === helper.namespaces.wsdl) {\n      ElementType = WSDLElement;\n    } else if (qname.nsURI === helper.namespaces.xsd) {\n      ElementType = XSDElement;\n    } else if (qname.nsURI === helper.namespaces.soap) {\n      ElementType = SOAPElement;\n    } else if (qname.nsURI === helper.namespaces.soap12) {\n      ElementType = SOAP12Element;\n    } else {\n      ElementType = Element;\n    }\n  }\n  return ElementType;\n}\n\nexports.getRegistry = getRegistry;\nexports.getElementType = getElementType;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEhC,IAAIC,YAAY,GAAG,CACjB,WAAW,EACX,kBAAkB,EAClB,WAAW,EACX,oBAAoB,EACpB,iBAAiB,EACjB,sBAAsB,EACtB,cAAc,EACd,sBAAsB,EACtB,mBAAmB,EACnB,qBAAqB,EACrB,eAAe,EACf,cAAc,EACd,WAAW,EACX,cAAc,EACd,iBAAiB,EACjB,aAAa,EACb,cAAc,EACd,eAAe,EACf,mBAAmB,EACnB,gBAAgB,EAChB,qBAAqB,EACrB,kBAAkB,EAClB,YAAY,EACZ,aAAa,EACb,cAAc,EACd,gBAAgB,EAChB,oBAAoB,EACpB,cAAc,EACd,eAAe,EACf,cAAc,EACd,gBAAgB,EAChB,kBAAkB,EAClB,eAAe,EACf,aAAa,EACb,aAAa,EACb,iBAAiB,EACjB,gBAAgB,EAChB,cAAc,EACd,sBAAsB,EACtB,aAAa,EACb,eAAe,EACf,oBAAoB,EACpB,cAAc,EACd,eAAe,EACf,iBAAiB,EACjB,sBAAsB,EACtB,gBAAgB,CACjB;AAED,IAAIC,QAAQ;AAEZ,SAASC,WAAWA,CAAA,EAAG;EACrB,IAAID,QAAQ,EAAE;IACZ,OAAOA,QAAQ;EACjB;EACAA,QAAQ,GAAG;IACTD,YAAY,EAAE,CAAC,CAAC;IAChBG,kBAAkB,EAAE,CAAC;EACvB,CAAC;EACDH,YAAY,CAACI,OAAO,CAAC,UAASC,CAAC,EAAE;IAC/B,IAAIC,IAAI,GAAGP,OAAO,CAACM,CAAC,CAAC;IACrBJ,QAAQ,CAACD,YAAY,CAAC,GAAG,GAAGM,IAAI,CAACC,eAAe,GAAG,GAAG,GAAGD,IAAI,CAACE,WAAW,CAAC,GAAGF,IAAI;IACjFL,QAAQ,CAACE,kBAAkB,CAACG,IAAI,CAACE,WAAW,CAAC,GAAGF,IAAI;EACtD,CAAC,CAAC;EACF,OAAOL,QAAQ;AACjB;AAEA,SAASQ,cAAcA,CAACC,KAAK,EAAE;EAC7B,IAAIT,QAAQ,GAAGC,WAAW,CAAC,CAAC;EAC5B,IAAIS,WAAW,GACbV,QAAQ,CAACD,YAAY,CAAC,GAAG,GAAGU,KAAK,CAACE,KAAK,GAAG,GAAG,GAAGF,KAAK,CAACG,IAAI,CAAC;EAC7D,IAAI,CAACF,WAAW,EAAE;IAChB,IAAIG,UAAU,GAAGf,OAAO,CAAC,kBAAkB,CAAC;IAC5C,IAAIgB,WAAW,GAAGhB,OAAO,CAAC,oBAAoB,CAAC;IAC/C,IAAIiB,WAAW,GAAGjB,OAAO,CAAC,oBAAoB,CAAC;IAC/C,IAAIkB,aAAa,GAAGlB,OAAO,CAAC,sBAAsB,CAAC;IACnD,IAAImB,OAAO,GAAGnB,OAAO,CAAC,WAAW,CAAC;IAClC,IAAIW,KAAK,CAACE,KAAK,KAAKd,MAAM,CAACqB,UAAU,CAACC,IAAI,EAAE;MAC1CT,WAAW,GAAGI,WAAW;IAC3B,CAAC,MAAM,IAAIL,KAAK,CAACE,KAAK,KAAKd,MAAM,CAACqB,UAAU,CAACE,GAAG,EAAE;MAChDV,WAAW,GAAGG,UAAU;IAC1B,CAAC,MAAM,IAAIJ,KAAK,CAACE,KAAK,KAAKd,MAAM,CAACqB,UAAU,CAACG,IAAI,EAAE;MACjDX,WAAW,GAAGK,WAAW;IAC3B,CAAC,MAAM,IAAIN,KAAK,CAACE,KAAK,KAAKd,MAAM,CAACqB,UAAU,CAACI,MAAM,EAAE;MACnDZ,WAAW,GAAGM,aAAa;IAC7B,CAAC,MAAM;MACLN,WAAW,GAAGO,OAAO;IACvB;EACF;EACA,OAAOP,WAAW;AACpB;AAEAa,OAAO,CAACtB,WAAW,GAAGA,WAAW;AACjCsB,OAAO,CAACf,cAAc,GAAGA,cAAc","ignoreList":[]}